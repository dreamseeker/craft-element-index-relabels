!function(){"use strict";function e(e){if(Craft.ElementIndexRelabels.sourceKey in Craft.ElementIndexRelabels.data){var t=e.$toolbar.find(".sortmenubtn"),n=t.text().trim(),a=Craft.ElementIndexRelabels.data[Craft.ElementIndexRelabels.sourceKey];if("table"!==e.viewMode||void 0===e.view.$table||null===e.view)return!1;setTimeout((function l(){var i=e.view.$table;"table"===e.viewMode&&i.find("thead > tr > th").length?(i.find("thead > tr > th").each((function(e,t){var n=$(t),l=n.attr("data-attribute");l&&l in a&&n.text(a[l].relabel)})),i.find("tbody > tr > td").each((function(e,t){var n=$(t),l=n.attr("data-attr");l&&l in a&&n.attr("data-title",a[l].relabel)})),$.each(a,(function(e,a){a.label===n&&t.text(a.relabel)}))):setTimeout(l,200)}),200)}}function t(){$(".customize-sources-table-column").each((function(){var e=$(this),t=e.find("input:checkbox").attr("name"),n=e.find("input:checkbox").val();if(-1!=n.indexOf("field:")){var a="user"!==Craft.ElementIndexRelabels.sourceKey?t.replace(/^sources\[(.+)]\[tableAttributes]\[]$/,"$1"):"user";void 0!==Craft.ElementIndexRelabels.data[a]&&void 0!==Craft.ElementIndexRelabels.data[a][n]&&e.find("label").text(Craft.ElementIndexRelabels.data[a][n].relabel)}}))}jQuery((function($){Garnish.on(Garnish.Modal,"show",(function(e){var n=e.target;void 0!==n.$sourceSettingsContainer&&setTimeout((function e(){$(".customize-sources-table-column").length?(t(),$(n.$sourcesContainer).find(".customize-sources-item").on("click",(function(){t()}))):setTimeout(e,200)}),200)})),Craft.elementIndex.on("updateElements",(function(t){var n=t.target;if(Craft.ElementIndexRelabels.sourceKey="craft\\elements\\User"===n.elementType?"user":n.sourceKey,e(n),"activeViewMenu"in n){var a={},l=Craft.ElementIndexRelabels.data[Craft.ElementIndexRelabels.sourceKey];if(void 0!==l){for(var i in l)a[l[i].label]=l[i].relabel;n.activeViewMenu.$container.find(".element-index-view-menu-table-column").each((function(){var e=$(this).find("label"),t=e.text();t&&t in a&&e.text(a[t])}))}}else n.$sortMenuBtn.data("menubtn").$btn.on("focus",(function(){var e=n.sortMenu.$options,t=Craft.ElementIndexRelabels.data[Craft.ElementIndexRelabels.sourceKey];void 0!==t&&e.each((function(e,n){var a=$(n),l=a.attr("data-attr");l&&l in t&&a.text(t[l].relabel)}))}))}))}))}();