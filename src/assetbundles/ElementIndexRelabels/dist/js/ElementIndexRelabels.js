!function(){"use strict";function e(e){if(Craft.ElementIndexRelabels.sourceKey in Craft.ElementIndexRelabels.data){var t=e.$toolbar.find(".sortmenubtn"),n=t.text().trim(),a=Craft.ElementIndexRelabels.data[Craft.ElementIndexRelabels.sourceKey];if("table"===e.viewMode){var r=e.view.$table;r.find("thead > tr > th").each((function(e,t){var n=$(t),r=n.attr("data-attribute");r&&r in a&&n.text(a[r].relabel)})),r.find("tbody > tr > td").each((function(e,t){var n=$(t),r=n.attr("data-attr");r&&r in a&&n.attr("data-title",a[r])}))}$.each(a,(function(e,a){a.label===n&&t.text(a.relabel)}))}}function t(){$(".customize-sources-table-column").each((function(){var e=$(this),t=e.find("input:checkbox").attr("name"),n=e.find("input:checkbox").val();if(-1!=n.indexOf("field:")){var a="user"!==Craft.ElementIndexRelabels.sourceKey?t.replace(/^sources\[(.+)]\[tableAttributes]\[]$/,"$1"):"user";void 0!==Craft.ElementIndexRelabels.data[a]&&void 0!==Craft.ElementIndexRelabels.data[a][n]&&e.find("label").text(Craft.ElementIndexRelabels.data[a][n].relabel)}}))}Garnish.on(Craft.BaseElementIndex,"updateElements",(function(t){var n=t.target;["craft\\elements\\Category","craft\\elements\\User"].includes(n.elementType)&&(Craft.ElementIndexRelabels.sourceKey="craft\\elements\\User"===n.elementType?"user":n.sourceKey,e(n))})),Garnish.on(Craft.EntryIndex,"updateElements",(function(t){var n=t.target;Craft.ElementIndexRelabels.sourceKey=n.sourceKey,e(n)})),Garnish.on(Craft.AssetIndex,"updateElements",(function(t){var n=t.target;Craft.ElementIndexRelabels.sourceKey=n.sourceKey,e(n)})),Garnish.on(Craft.BaseElementIndex,"afterInit",(function(e){var t=e.target;t.$sortMenuBtn.data("menubtn").$btn.on("focus",(function(){var e=t.sortMenu.$options,n=Craft.ElementIndexRelabels.data[Craft.ElementIndexRelabels.sourceKey];void 0!==n&&e.each((function(e,t){var a=$(t),r=a.attr("data-attr");r&&r in n&&a.text(n[r].relabel)}))}))})),Garnish.on(Garnish.Modal,"show",(function(e){var n=e.target;void 0!==n.$sourceSettingsContainer&&setTimeout((function e(){$(".customize-sources-table-column").length?(t(),$(n.$sourcesContainer).find(".customize-sources-item").on("click",(function(){t()}))):setTimeout(e,200)}),200)}))}();